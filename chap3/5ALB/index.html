
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Jacob's AWS Certification Solutions Architect Tutorial">
      
      
        <meta name="author" content="Jacob Xi">
      
      
        <link rel="canonical" href="https://chao-xi.github.io/jxawscsaabook/chap3/5ALB/">
      
      <link rel="icon" href="../../images/logo.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.5">
    
    
      
        <title>L5 AWS Application Load Balancer – ALB - Jacob AWS Certification Solutions Architect Book</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2d9f7617.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#ffa724">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="orange" data-md-color-accent="orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#l5-aws-application-load-balancer-alb" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Jacob AWS Certification Solutions Architect Book" class="md-header__button md-logo" aria-label="Jacob AWS Certification Solutions Architect Book" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Jacob AWS Certification Solutions Architect Book
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              L5 AWS Application Load Balancer – ALB
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Chao-Xi/jxawscsaabook.git/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jxawscsaabook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Jacob AWS Certification Solutions Architect Book" class="md-nav__button md-logo" aria-label="Jacob AWS Certification Solutions Architect Book" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    Jacob AWS Certification Solutions Architect Book
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Chao-Xi/jxawscsaabook.git/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jxawscsaabook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Chap1 Exam-Intro
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Chap1 Exam-Intro" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Chap1 Exam-Intro
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/1Exam_Guide/" class="md-nav__link">
        L1 SAA-C02 Exam Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/2Learning_path/" class="md-nav__link">
        L2 Associate SAA-C02 Exam Topics
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Chap2 Services Cheat Sheet
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Chap2 Services Cheat Sheet" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Chap2 Services Cheat Sheet
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/1best_prac/" class="md-nav__link">
        L1 AWS Best Practices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/2s3_cs/" class="md-nav__link">
        L2 AWS Storage & Content Delivery Cheat Sheet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/3IS_cs/" class="md-nav__link">
        L3 AWS Security & Identity Service Cheat Sheet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/4Ns_cs/" class="md-nav__link">
        L4 AWS Networking Services Cheat Sheet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/5CS_cs/" class="md-nav__link">
        L5 AWS Compute Services Cheat Sheet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/6DS_cs/" class="md-nav__link">
        L6 AWS Database Services Cheat Sheet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/7AS_cs/" class="md-nav__link">
        L7 AWS Analytics Services Cheat Sheet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/8AS_cs/" class="md-nav__link">
        L8 AWS Application Services Cheat Sheet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/9MT_cs/" class="md-nav__link">
        L9 AWS Management Tools Cheat Sheet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/10EXAM_cs/" class="md-nav__link">
        L10 AWS Certification Exam Cheat Sheet
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Chap3 Networking Exam Topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Chap3 Networking Exam Topics" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Chap3 Networking Exam Topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../1vpc/" class="md-nav__link">
        L1 AWS Virtual Private Cloud – VPC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2bastion/" class="md-nav__link">
        L2 AWS Bastion Host
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../3direct_connect/" class="md-nav__link">
        L3 AWS Direct Connect – DX
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4ELB/" class="md-nav__link">
        L4 AWS Elastic Load Balancer – ELB
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          L5 AWS Application Load Balancer – ALB
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        L5 AWS Application Load Balancer – ALB
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-aws-application-load-balancer-alb" class="md-nav__link">
    1 AWS Application Load Balancer - ALB
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2application-load-balancer-components" class="md-nav__link">
    2、Application Load Balancer Components
  </a>
  
    <nav class="md-nav" aria-label="2、Application Load Balancer Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2-1-a-load-balancer" class="md-nav__link">
    2-1 A load balancer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-2-a-listener" class="md-nav__link">
    2-2 A listener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-3-target-group" class="md-nav__link">
    2-3 Target group
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3application-load-balancer-benefits" class="md-nav__link">
    3、Application Load Balancer Benefits
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4application-load-balancer-features" class="md-nav__link">
    4、Application Load Balancer Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5application-load-balancer-listeners" class="md-nav__link">
    5、Application Load Balancer Listeners
  </a>
  
    <nav class="md-nav" aria-label="5、Application Load Balancer Listeners">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#5-1-host-condition-or-host-based-routing" class="md-nav__link">
    5-1 Host Condition or Host-based routing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-2-path-condition-or-path-based-routing" class="md-nav__link">
    5-2 Path Condition or path-based routing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6advantages-over-classic-load-balancer" class="md-nav__link">
    6、Advantages over Classic Load Balancer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7application-load-balancer-pricing" class="md-nav__link">
    7、Application Load Balancer Pricing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8application-load-balancer-exam" class="md-nav__link">
    8、Application Load Balancer Exam
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../6NLB/" class="md-nav__link">
        L6 AWS Network Load Balancer – NLB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../7EAN_LB/" class="md-nav__link">
        L7 AWS Classic Load Balancer vs Application Load Balancer vs Network Load Balancer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../8elb_mon/" class="md-nav__link">
        L8 AWS ELB Monitoring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../9route53/" class="md-nav__link">
        L9 AWS Certification – Route 53 Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../10route53_policy/" class="md-nav__link">
        L10 AWS Route 53 Routing Policy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../11route53_resolver/" class="md-nav__link">
        L11 AWS Route 53 Resolver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../12api_gateway/" class="md-nav__link">
        L12 AWS API Gateway
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../13cloudfront/" class="md-nav__link">
        L13 AWS CloudFront
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../14direct_connect/" class="md-nav__link">
        L14 AWS Direct Connect – DX
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          chap4 AWS Security, Identity & Compliance
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="chap4 AWS Security, Identity & Compliance" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          chap4 AWS Security, Identity & Compliance
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/1AWS_IAM/" class="md-nav__link">
        L1 AWS Identity Access Management – IAM(unfinished)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          chap7 AWS Database Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="chap7 AWS Database Services" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          chap7 AWS Database Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/1rds/" class="md-nav__link">
        L1 AWS RDS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/2DynamoDB/" class="md-nav__link">
        L2 AWS DynamoDB(unfinished)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Chap10 AWS Migration & Transfer Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Chap10 AWS Migration & Transfer Services" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Chap10 AWS Migration & Transfer Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/1aws_cms/" class="md-nav__link">
        L1 AWS Cloud Migration Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/2AWS_IE/" class="md-nav__link">
        L2 AWS Import/Export
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/3AWS_DTS/" class="md-nav__link">
        L3 AWS Data Transfer Services
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Chap11 AWS Analytics Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Chap11 AWS Analytics Services" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Chap11 AWS Analytics Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap11/4Elasticsearch/" class="md-nav__link">
        L4 AWS Elasticsearch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-aws-application-load-balancer-alb" class="md-nav__link">
    1 AWS Application Load Balancer - ALB
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2application-load-balancer-components" class="md-nav__link">
    2、Application Load Balancer Components
  </a>
  
    <nav class="md-nav" aria-label="2、Application Load Balancer Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2-1-a-load-balancer" class="md-nav__link">
    2-1 A load balancer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-2-a-listener" class="md-nav__link">
    2-2 A listener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-3-target-group" class="md-nav__link">
    2-3 Target group
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3application-load-balancer-benefits" class="md-nav__link">
    3、Application Load Balancer Benefits
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4application-load-balancer-features" class="md-nav__link">
    4、Application Load Balancer Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5application-load-balancer-listeners" class="md-nav__link">
    5、Application Load Balancer Listeners
  </a>
  
    <nav class="md-nav" aria-label="5、Application Load Balancer Listeners">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#5-1-host-condition-or-host-based-routing" class="md-nav__link">
    5-1 Host Condition or Host-based routing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-2-path-condition-or-path-based-routing" class="md-nav__link">
    5-2 Path Condition or path-based routing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6advantages-over-classic-load-balancer" class="md-nav__link">
    6、Advantages over Classic Load Balancer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7application-load-balancer-pricing" class="md-nav__link">
    7、Application Load Balancer Pricing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8application-load-balancer-exam" class="md-nav__link">
    8、Application Load Balancer Exam
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/Chao-Xi/jxawscsaabook.git/edit/master/docs/chap3/5ALB.md" title="编辑此页" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



<h1 id="l5-aws-application-load-balancer-alb"><strong>L5 AWS Application Load Balancer – ALB</strong></h1>
<h2 id="1-aws-application-load-balancer-alb"><strong>1 AWS Application Load Balancer - ALB</strong></h2>
<p><strong>Application Load Balancer operates at layer 7</strong> (application layer) and allows defining routing rules based on content <strong>across multiple services or containers running on one or more EC2 instances</strong></p>
<ul>
<li>scales the load balancer as traffic to the application changes over time.</li>
<li><strong>can scale to the vast majority of workloads automatically.</strong></li>
<li><strong>supports health checks, used to monitor the health of registered targets so that the load balancer can send requests only to the healthy targets.</strong></li>
</ul>
<p><img alt="Alt Image Text" src="../../images/chap3_5_1.png" title="Body image" /></p>
<h2 id="2application-load-balancer-components"><strong>2、Application Load Balancer Components</strong></h2>
<p><img alt="Alt Image Text" src="../../images/chap3_5_2.png" title="Body image" /></p>
<h3 id="2-1-a-load-balancer"><strong>2-1 A load balancer</strong></h3>
<ul>
<li>serves as the single point of contact for clients.</li>
<li>distributes incoming application traffic across multiple targets, such as EC2 instances, in multiple AZs, which increases the availability of the application.</li>
<li>one or more listeners can be added to the load balancer.</li>
</ul>
<h3 id="2-2-a-listener"><strong>2-2 A listener</strong></h3>
<ul>
<li>checks for connection requests from clients, <strong>using the configured protocol and port</strong></li>
<li>rules defined determine, how the load balancer routes requests to its registered targets.</li>
<li>each rule consists of a priority, one or more actions, and one or more conditions.</li>
<li>when the conditions for a rule are met, its actions are performed.</li>
<li>a default rule for each listener must be defined, and optionally additional rules can be defined</li>
</ul>
<h3 id="2-3-target-group"><strong>2-3 Target group</strong></h3>
<ul>
<li>routes requests to one or more registered targets, such as EC2 instances, using the specified protocol and port number</li>
<li><strong>a target can be registered with multiple target groups</strong>.</li>
<li>health checks can be configured on a per target group basis.</li>
<li>Health checks are performed on all targets registered to a target group that is specified in a listener rule for the load balancer.</li>
<li>
<p>target group supports</p>
<ul>
<li><strong>EC2 instances (can be managed as a part of Autoscaling group)</strong></li>
<li><strong>ECS tasks</strong></li>
<li><strong>Lambda functions</strong></li>
<li><strong>IP Addresses – must be private IP</strong></li>
</ul>
</li>
<li>
<p>When a load balancer receives a request, it evaluates the listener rules in priority order to <strong>determine which rule to apply and then selects a target from the target group for the rule action.</strong></p>
</li>
<li>Listener rules can be configured to r<strong>oute requests to different target groups</strong> based on the content of the application traffic.</li>
<li>Routing is performed independently for each target group, even when a target is registered with multiple target groups.</li>
<li><strong>Routing algorithm used can be configured at the target group level</strong>.</li>
<li><strong>Default routing algorithm is round-robin</strong>; alternatively, the least outstanding requests routing algorithm can also be specified</li>
</ul>
<h2 id="3application-load-balancer-benefits"><strong>3、Application Load Balancer Benefits</strong></h2>
<ul>
<li><strong>Support for Path-based routing,  where listener rules can be configured to forward requests based on the URL in the request</strong>. <ul>
<li>This enables structuring application as smaller services (microservices), and route requests to the correct service based on the content of the URL.</li>
</ul>
</li>
<li>Support for routing requests to multiple services on a single EC2 instance by registering the instance <strong>using multiple ports</strong>.</li>
<li><strong>Support for containerized applications</strong>. <ul>
<li>EC2 Container Service (ECS) can select an unused port when scheduling a task and register the task with a target group using this port, enabling efficient use of the clusters.</li>
</ul>
</li>
<li>Support for monitoring the health of each service independently, as health checks are defined at the target group level and many CloudWatch metrics are reported at the target group level.</li>
<li><strong>Attaching a target group to an Auto Scaling group enables scaling each service dynamically based on demand</strong>.</li>
</ul>
<h2 id="4application-load-balancer-features"><strong>4、Application Load Balancer Features</strong></h2>
<ul>
<li>supports load balancing of applications <strong>using HTTP and HTTPS (Secure HTTP) protocols</strong></li>
<li>supports <strong>HTTP/2</strong>, which is enabled natively. Clients that support HTTP/2 can connect over TLS</li>
<li>supports <strong>WebSockets</strong> and <strong>Secure WebSockets</strong> natively</li>
<li>supports <strong>Request tracing</strong>, by default.<ul>
<li>request tracing can be used to track HTTP requests from clients to targets or other services.</li>
<li>Load balancer upon receiving a request from a client, adds or updates the <strong>X-Amzn-Trace-Id</strong> header before sending the request to the target</li>
<li>Any services or applications between the load balancer and the target can also add or update this header.</li>
</ul>
</li>
<li>supports <strong>Sticky Sessions (Session Affinity)</strong> using load balancer generated cookies, to route requests from the same client to the same target</li>
<li>supports <strong>SSL termination</strong>, to decrypt the request on ALB before sending it to the underlying targets.<ul>
<li>an SSL certificate can be installed on the load balancer.</li>
<li>the load balancer uses this certificate to terminate the connection and then decrypt requests from clients before sending them to targets.</li>
</ul>
</li>
<li><strong><mark>supports layer 7 specific features like X-Forwarded-For headers to help determine the actual client IP, port and protocol</mark></strong></li>
<li>automatically <strong>scales</strong> its request handling capacity in response to incoming application traffic.</li>
<li>supports <strong>hybrid load balancing</strong>,<ul>
<li>If an application runs on targets distributed between a VPC and an on-premises location, they can be added to the same target group using their IP addresses</li>
</ul>
</li>
<li>provides <strong>High Availability</strong>, by allowing you to specify more than one AZ and distribution of incoming traffic across multiple AZs.</li>
<li>integrates with <strong>ACM</strong> to provision and bind an SSL/TLS certificate to the load balancer thereby making the entire SSL offload process very easy</li>
<li><strong>supports multiple certificates for the same domain to a secure listener</strong></li>
<li>supports <strong>IPv6</strong> addressing, for an Internet-facing load balancer</li>
<li>supports <strong>Cross-zone load balancing, by default</strong></li>
<li>supports <strong>Security Groups</strong> to control the traffic allowed to and from the load balancer.</li>
<li>provides <strong>Access Logs</strong>, to record all requests sent to the load balancer, and store the logs in S3 for later analysis in compressed format</li>
<li>provides <strong>Delete Protection</strong>, to prevent the ALB from accidental deletion</li>
<li>supports <strong>Connection Idle Timeout</strong> – ALB maintains two connections for each request one with the Client (front end) and one with the target instance (back end). If no data has been sent or received by the time that the idle timeout period elapses, ALB closes the front-end connection</li>
<li>integrates with <strong>CloudWatch</strong> to provide metrics, such as request counts, error counts, error types, and request latency</li>
<li>integrates with <strong>AWS WAF</strong>, a web application firewall that helps protect web applications from attacks by allowing rules configuration based on IP addresses, HTTP headers, and custom URI strings</li>
<li>integrates with <strong>CloudTrail</strong> to receive a history of ALB API calls made on the AWS account‘’</li>
</ul>
<h2 id="5application-load-balancer-listeners"><strong>5、Application Load Balancer Listeners</strong></h2>
<ul>
<li>A listener is a process that checks for connection requests, using the configured protocol and port</li>
<li>Listener supports HTTP &amp; HTTPS protocol with Ports from 1-65535</li>
<li>
<p>ALB supports SSL Termination for HTTPS listener, which helps to offload the work of encryption and decryption so that the targets can focus on their main work.</p>
</li>
<li>
<p><strong><mark>HTTPS listener must have at least one SSL server certificate on the listener</mark></strong></p>
</li>
<li>WebSockets with both HTTP and HTTPS listeners (Secure WebSockets)</li>
<li>Supports HTTP/2 with HTTPS listeners</li>
<li>128 requests can be sent in parallel using one HTTP/2 connection.<ul>
<li>ALB converts these to individual HTTP/1.1 requests and distributes them across the healthy targets in the target group using the round robin routing algorithm.</li>
<li>HTTP/2 uses front-end connections more efficiently resulting in fewer connections between clients and the load balancer.</li>
<li>Server-push feature of HTTP/2 is not supported</li>
</ul>
</li>
<li>Each listener has a default rule, and can optionally define additional rules.</li>
<li><strong>Each rule consists of a priority, action, optional host condition, and optional path condition</strong>.<ul>
<li><strong>Priority</strong> – Rules are evaluated in priority order, from the lowest value to the highest value. The default rule has the lowest priority</li>
<li><strong>Action</strong> – Each rule action has a type and a target group. Currently, the only supported type is forward, which forwards requests to the target group. You can change the target group for a rule at any time.</li>
<li><strong>Condition</strong> – There are two types of rule conditions: host and path. When the conditions for a rule are met, then its action is taken</li>
</ul>
</li>
</ul>
<h3 id="5-1-host-condition-or-host-based-routing"><strong>5-1 Host Condition or Host-based routing</strong></h3>
<ul>
<li>Host conditions can be used to define rules that forward requests to different target groups based on the hostname in the host header</li>
<li><strong>This enables support for multiple domains using a single ALB for e.g. <code>orders.example.com</code>, <code>images.example.com</code>, <code>registration.example.com</code></strong></li>
<li>Each host condition has one hostname. If the hostname in</li>
</ul>
<h3 id="5-2-path-condition-or-path-based-routing"><strong>5-2 Path Condition or path-based routing</strong></h3>
<ul>
<li>Path conditions can be used to define rules that forward requests to different target groups based on the URL in the request</li>
<li><strong>Each path condition has one path pattern for e.g. <code>example.com/orders</code>, <code>example.com/images</code>, <code>example.com/registration</code></strong></li>
<li>If the URL in a request matches the path pattern in a listener rule exactly, the request is routed using that rule.</li>
</ul>
<h2 id="6advantages-over-classic-load-balancer"><strong>6、Advantages over Classic Load Balancer</strong></h2>
<ul>
<li>Support for <strong>path-based routing</strong>, where rules can be configured for the listener to forward requests based on the content of the URL</li>
<li>Support for <strong>host-based routing</strong>, where rules can be configured for the listener to forward requests based on the host field in the HTTP header.</li>
<li>Support for <strong>routing based on fields</strong> in the request, such as standard and custom HTTP headers and methods, query parameters, and source IP address</li>
<li>Support for routing requests to multiple applications on a single EC2 instance. Each instance or IP address can be registered with the same target group using multiple ports</li>
<li>Support for <strong>registering targets by IP address</strong>, including targets outside the VPC for the load balancer.</li>
<li>Support for <strong>redirecting requests from one URL to another</strong>.</li>
<li>Support for <strong>returning a custom HTTP response.</strong></li>
<li>Support for <strong>registering Lambda functions</strong> as targets.</li>
<li>Support for the load balancer to authenticate users of the applications through their corporate or social identities before routing requests.</li>
<li>Support <strong>containerized</strong> applications with ECS using Dynamic port mapping</li>
<li>Support <strong>monitoring the health of each service independently</strong>, as health checks and many CloudWatch metrics are defined at the target group level</li>
<li>Attaching the target group to an Auto Scaling group enables scaling of each service dynamically based on demand</li>
<li>Access logs contain additional information &amp; stored in compressed format</li>
<li><strong>Improved load balancer performance</strong>.</li>
</ul>
<h2 id="7application-load-balancer-pricing"><strong>7、Application Load Balancer Pricing</strong></h2>
<ul>
<li>charged for each hour or partial hour that an ALB is running and the number of Load Balancer Capacity Units (LCU) used per hour.</li>
<li>An LCU is a new metric for determining ALB pricing</li>
<li>An LCU defines the maximum resource consumed in any one of the dimensions (new connections, active connections, bandwidth and rule evaluations) the Application Load Balancer processes the traffic.</li>
</ul>
<h2 id="8application-load-balancer-exam"><strong>8、Application Load Balancer Exam</strong></h2>
<ol>
<li>
<p>You are designing an application which requires websockets support, to <strong>exchange real-time messages with end-users without the end users having to request (or poll) the server </strong>for an update? Which ELB option should you choose?</p>
<ul>
<li>Use Application Load Balancer and enable comet support</li>
<li>Use Classic Load Balancer which supports WebSockets</li>
<li><strong>Use Application Load Balancer which supports WebSockets</strong></li>
<li>Use Classic Load Balancer and enable comet support</li>
</ul>
</li>
<li>
<p>Which of the following Internet protocols does an AWS Application Load Balancer Support? Choose 2 answers</p>
<ul>
<li>A. ICMP</li>
<li>B. UDP</li>
<li>C. <strong>HTTP</strong></li>
<li>D. SNTP</li>
<li>E. <strong>Websocket</strong></li>
</ul>
</li>
<li>
<p>Your organization has configured an application behind ALB. However, Clients are complaining that they cannot connect to an Internet-facing load balancer. What cannot be the issue?</p>
<ul>
<li>Internet-facing load balancer is attached to a private subnet</li>
<li>ALB Security Groups does not allow the traffic</li>
<li>Subnet NACLs do not allow the traffic</li>
<li><strong>ALB was not assigned an EIP</strong></li>
</ul>
</li>
<li>
<p>To protect your ALB from accidental deletion, you should</p>
<ul>
<li>enable Multi-Factor Authentication (MFA) protected access</li>
<li><strong>enable Delete Protection on the ALB</strong></li>
<li>enabled Termination Protection on the ALB</li>
<li>ALB does not provide any feature to prevent accidental deletion</li>
</ul>
</li>
<li>
<p>Your organization is using ALB for servicing requests. One of the API request is facing consistent performance issues. Upon checking the flow, you find that the request flows through multiple services. How can you track the performance or timing issues in the application stack at the granularity of an individual request?</p>
<ul>
<li><strong>Track the request using “X-Amzn-Trace-Id” HTTP header</strong></li>
<li>Track the request using “X-Amzn-Track-Id” HTTP header</li>
<li>Track the request using “X-Aws-Track-Id” HTTP header</li>
<li>Track the request using “X-Aws-Trace-Id” HTTP header</li>
</ul>
</li>
</ol>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="页脚">
      
        
        <a href="../4ELB/" class="md-footer__link md-footer__link--prev" aria-label="上一页: L4 AWS Elastic Load Balancer – ELB" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              L4 AWS Elastic Load Balancer – ELB
            </div>
          </div>
        </a>
      
      
        
        <a href="../6NLB/" class="md-footer__link md-footer__link--next" aria-label="下一页: L6 AWS Network Load Balancer – NLB" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              L6 AWS Network Load Balancer – NLB
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021-9999 Jacob Xi
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "\u590d\u5236", "clipboard.copied": "\u5df2\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "search": "../../assets/javascripts/workers/search.bd0b6b67.min.js"}</script>
    
    
      <script src="../../assets/javascripts/bundle.467223ff.min.js"></script>
      
    
  </body>
</html>